<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QMA-2</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>     
        <style>
            .first-sec {
            margin: 70px auto;
        }
        </style>
</head>
<body>
<div class="container-fluid first-sec">
    <h2 style="margin-bottom: 20px; text-align: center;">Please fill the required information</h2>
   <!-- <div style="height: 60vh;"> <button class="btn btn-sm btn-primary" onclick="getLocation()">Location</button>
    <p id="demo"></p>
</div> -->
    <form action = "covid_2_db.php" method = "POST">
        <div class="form-group row">
          <label for="name" class="col-sm-2 col-form-label">Name:</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="name-input" name ="name">
          </div>
        </div>
        <div class="form-group row">
         
              <label for="state" class="col-sm-2 col-form-label">State:</label>
              <div class="col-sm-10">
                <select class="form-control"  id='firstList' name='state' onClick="getState()"></select>
      </div>
        </div>
        

    <div class="form-group row">
      <label for="city" class="col-sm-2 col-form-label">City:</label>
      <div class="col-sm-10">
        <select class="form-control"  id='secondList' name='city' onClick="getCity()"></select>
  </div>
  </div>


    <div class="form-group row">
      <label for="name" class="col-sm-2 col-form-label">Emergency Situation:</label>
      <div class="col-sm-10">
        <select class="form-control" name="emg" id="emg">
          <option value="Yes">Yes</option>
          <option value="No">No</option>
        </select>
      </div>
    </div>
        
        <div class="form-group row">
            <label for="location" class="col-sm-2 col-form-label">Body Temperature (Â°C):</label>
            <div class="col-sm-10">
              <input type="number" class="form-control" id="temp-input" name = "tem">
            </div>
          </div>

          <!-- image upload -->
          
          
            Select image to upload:
            <input type="file" name="img" id="fileToUpload" style="border: solid 0.2px #737373;">
            <!-- <input type="submit" value="Upload Image" name="submit"> -->
        
    
    <!-- image upload -->
        
        
        <div class="form-group row">
          <div class="col-sm-10" style="margin-top: 50px;">
            <button type="button" class="btn btn-primary" onclick="getLocation()">Location</button>
            <button type="submit" class="btn btn-success">Submit</button>
          </div>
        </div>
      </form>
    </div>
    
</body>
<script>

            // to make interlinked dropdowns code starts
     
//   var $select1 = $( '#select1' ),
// 		$select2 = $( '#select2' ),
//     $options = $select2.find( 'option' );
    
// $select1.on( 'change', function() {
// 	$select2.html( $options.filter( '[value="' + this.value + '"]' ) );
// } ).trigger( 'change' );

            // to make interlinked dropdowns code ends

</script>

<script>
   $(document).ready(function () {
 
 var list1 = document.getElementById('firstList');
  
 list1.options[0] = new Option('--Select--', '');
 list1.options[1] = new Option('Uttar Pradesh', 'Uttar Pradesh');
 list1.options[2] = new Option('Jharkhand', 'Jharkhand');
 list1.options[3] = new Option('Maharashtra', 'Maharashtra');

 });

 function getState(){
 
 var list1 = document.getElementById('firstList');
 var list2 = document.getElementById("secondList");
 var list1SelectedValue = list1.options[list1.selectedIndex].value;
  
 if (list1SelectedValue=='Uttar Pradesh')
 {
      
     list2.options.length=0;
     list2.options[0] = new Option('--Select--', '');
     list2.options[1] = new Option('Lucknow', 'Lucknow');
     list2.options[2] = new Option('Kanpur', 'Kanpur');      
 }
 else if (list1SelectedValue=='Jharkhand')
 {
      
     list2.options.length=0;
     list2.options[0] = new Option('--Select--', '');
     list2.options[1] = new Option('Ranchi', 'Ranchi');
     list2.options[2] = new Option('Jamshedpur', 'Jamshedpur');  
 }
 else if (list1SelectedValue=='Maharashtra')
 {
      
     list2.options.length=0;
     list2.options[0] = new Option('--Select--', '');
     list2.options[1] = new Option('Mumbai', 'Mumbai');
     list2.options[2] = new Option('Nagpur', 'Nagpur');  
 }
}

function getCity(){
  var list2 = document.getElementById('secondList');
  var list3 = document.getElementById('thirdList');
  var list2SelectedValue = list2.options[list2.selectedIndex].value;
}

</script>
<script>
    var x = [];
    // var x = document.getElementById("demo");
    
    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
      } else { 
        x.innerHTML = "Geolocation is not supported by this browser.";
      }
    }
    
    function showPosition(position) {
      // console.log([position.coords.latitude,position.coords.longitude])
      x.push(position.coords.latitude)
      x.push(position.coords.longitude)
      console.log(x)
      // x.innerHTML = "Latitude: " + position.coords.latitude + 
      // "<br>Longitude: " + position.coords.longitude;
    }
    </script>
</html>
